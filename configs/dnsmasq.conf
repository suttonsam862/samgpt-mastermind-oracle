
# dnsmasq configuration for leak prevention

# Never forward plain names (without a dot or domain part)
domain-needed
# Never forward addresses in the non-routed address spaces
bogus-priv

# Don't read /etc/resolv.conf or any other file
no-resolv
# Don't poll /etc/resolv.conf for changes
no-poll

# Forward all DNS requests to Tor's DNSPort
server=127.0.0.1#5353

# Don't use /etc/hosts
no-hosts

# Don't cache negative responses which could leak info
no-negcache

# Enable logging
log-queries
log-facility=/var/log/dnsmasq.log

# Interface binding - only listen on loopback
interface=lo
bind-interfaces

# Never forward reverse lookup for private ranges
bogus-priv

# Prevent DNS amplification attacks
dns-forward-max=20
